<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataize - Step 4: Dashboard Layout Editor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="step4-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="step-indicator">
                    <div class="step" data-step="1">
                        <span class="step-number">1</span>
                        <span class="step-label">Data Upload</span>
                    </div>
                    <div class="step" data-step="2">
                        <span class="step-number">2</span>
                        <span class="step-label">Data Cleaning</span>
                    </div>
                    <div class="step" data-step="3">
                        <span class="step-number">3</span>
                        <span class="step-label">Visualization</span>
                    </div>
                    <div class="step active" data-step="4">
                        <span class="step-number">4</span>
                        <span class="step-label">Dashboard</span>
                    </div>
                </div>
                <h1 class="app-title">Dataize</h1>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Mode Toggle -->
                <div class="mode-toggle">
                    <div class="toggle-buttons">
                        <button class="mode-btn active" data-mode="design">Design Mode</button>
                        <button class="mode-btn" data-mode="preview">Preview Mode</button>
                    </div>
                </div>

                <!-- Dashboard Editor -->
                <div class="dashboard-editor">
                    <!-- Sidebar -->
                    <div class="editor-sidebar">
                        <!-- Chart Library -->
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <h3>Chart Library</h3>
                            </div>
                            <div class="chart-library" id="chartLibrary">
                                <!-- Charts will be populated here -->
                            </div>
                        </div>

                        <!-- Layout Tools -->
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <h3>Layout Tools</h3>
                            </div>
                            <div class="layout-tools">
                                <div class="tool-group">
                                    <label>Columns</label>
                                    <div class="column-selector">
                                        <button class="column-btn active" data-columns="1">1</button>
                                        <button class="column-btn" data-columns="2">2</button>
                                        <button class="column-btn" data-columns="3">3</button>
                                    </div>
                                </div>
                                <div class="tool-group">
                                    <label>Spacing</label>
                                    <input type="range" class="slider" id="spacingSlider" min="8" max="32" value="16">
                                    <div class="slider-value">16px</div>
                                </div>
                            </div>
                        </div>

                        <!-- Filters Panel -->
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <h3>Filters</h3>
                                <button class="toggle-filters" id="toggleFilters">Show</button>
                            </div>
                            <div class="filters-panel" id="filtersPanel" style="display: none;">
                                <div class="filter-group">
                                    <label>Date Range</label>
                                    <div class="date-range-picker">
                                        <input type="date" class="date-input" id="startDate">
                                        <span>to</span>
                                        <input type="date" class="date-input" id="endDate">
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>Regions</label>
                                    <div class="filter-checkboxes" id="regionFilters">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>People</label>
                                    <div class="filter-checkboxes" id="peopleFilters">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>Companies</label>
                                    <div class="filter-checkboxes" id="companyFilters">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>Numeric Range</label>
                                    <select class="select-input" id="numericFieldSelect">
                                        <option value="">Select field...</option>
                                    </select>
                                    <div class="range-filter" id="numericRangeContainer">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Design Tools -->
                        <div class="sidebar-section">
                            <div class="sidebar-title">
                                <h3>Design Tools</h3>
                            </div>
                            <div class="design-tools">
                                <div class="tool-group">
                                    <label for="themeSelect">Theme</label>
                                    <select class="select-input" id="themeSelect">
                                        <option value="light">Light Mode</option>
                                        <option value="dark">Dark Mode</option>
                                    </select>
                                </div>
                                <div class="tool-group">
                                    <label for="numberFormat">Number Format</label>
                                    <select class="select-input" id="numberFormat">
                                        <option value="plain">Plain Numbers</option>
                                        <option value="millions">Millions (M)</option>
                                        <option value="percentages">Percentages (%)</option>
                                    </select>
                                </div>
                                <div class="tool-group">
                                    <label>Font Size</label>
                                    <input type="range" class="slider" id="fontSizeSlider" min="12" max="20" value="14">
                                    <div class="slider-value">14px</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Canvas Container -->
                    <div class="canvas-container">
                        <div class="canvas-header">
                            <div class="canvas-tools">
                                <button class="tool-btn" id="addTextBtn">
                                    <span>üìù</span>
                                    Add Text
                                </button>
                                <button class="tool-btn" id="clearCanvasBtn">
                                    <span>üóëÔ∏è</span>
                                    Clear All
                                </button>
                            </div>
                            <div class="canvas-info" id="canvasInfo">0 widgets on canvas</div>
                        </div>
                        <div class="dashboard-canvas">
                            <div class="canvas-grid columns-1" id="canvasGrid">
                                <!-- Dashboard widgets will be placed here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <div class="step-navigation">
                    <button class="btn btn-outline" id="prevBtn">Previous Step</button>
                    <button class="btn btn-primary" id="nextBtn">Export & Publish</button>
                </div>
            </div>
        </main>

        <!-- Properties Panel -->
        <div class="properties-panel" id="propertiesPanel">
            <div class="panel-header">
                <h3>Widget Properties</h3>
                <button class="close-panel" id="closeProperties">&times;</button>
            </div>
            <div class="panel-content">
                <div class="property-group">
                    <label for="widgetTitle">Title</label>
                    <input type="text" class="property-input" id="widgetTitle">
                </div>
                <div class="property-group">
                    <label for="widgetBackground">Background Color</label>
                    <input type="color" class="color-input" id="widgetBackground" value="#ffffff">
                </div>
                <div class="property-group">
                    <label for="widgetFontSize">Font Size</label>
                    <input type="number" class="property-input" id="widgetFontSize" value="14" min="10" max="24">
                </div>
                <div class="property-actions">
                    <button class="btn btn-primary" id="applyProperties">Apply Changes</button>
                    <button class="btn btn-outline" id="deleteChart">Delete Widget</button>
                </div>
            </div>
        </div>
    </div>

    <script src="step4-script.js"></script>
</body>
</html>